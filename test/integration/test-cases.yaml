config:
  inherit-env: true
  retries: 1

tests:
  auth0 completion bash:
    exit-code: 0

  auth0 completion zsh:
    exit-code: 0

  auth0 completion fish:
    exit-code: 0

  auth0 completion powershell:
    exit-code: 0

  tenants list:
    command: auth0 tenants list
    exit-code: 0
    stdout:
      contains: 
        - ACTIVE
        - TENANT
        - â†’

  tenants use:
    command: auth0 tenants use $AUTH0_DOMAIN
    exit-code: 0
    stderr:
      contains:
        - "Default tenant switched to:"

  tenants open:
    command: auth0 tenants open $AUTH0_DOMAIN --no-input
    exit-code: 0
    stderr:
      contains:
        - "Open the following URL in a browser: https://manage.auth0.com/dashboard/"
